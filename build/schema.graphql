type SafeMultiSigTransaction @entity(immutable: true) {
  id: Bytes!
  to: Bytes! # address
  value: BigInt! # uint256
  data: Bytes! # bytes
  operation: Int! # uint8
  safeTxGas: BigInt! # uint256
  baseGas: BigInt! # uint256
  gasPrice: BigInt! # uint256
  gasToken: Bytes! # address
  refundReceiver: Bytes! # address
  signatures: Bytes! # bytes
  additionalInfo: Bytes! # bytes
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type SignMsg @entity {
  id: Bytes!
  msgHash: Bytes! # bytes32
  signer: Bytes! # Address of the signer, added to track who signed the message
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type Signature @entity {
  id: ID!
  transaction: SafeMultiSigTransaction! # Direct link without @derivedFrom
  signer: Bytes! # Address of the signer
  signatureData: Bytes! # The actual signature
}

type Signer @entity {
  id: ID! # Address of the signer
}

type UserActivity @entity {
  id: ID!
  user: Bytes! # Ethereum address of the user
  month: Int!
  year: Int!
  signatures: Int! # Number of signatures this month
  executions: Int! # Number of executions this month
}
